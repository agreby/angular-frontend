{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./auth.service\";\nexport class CampaignService {\n  constructor(http, authService) {\n    this.http = http;\n    this.authService = authService;\n    this.apiUrl = \"http://localhost:8080/api/campaigns\";\n  }\n  getAuthHeaders() {\n    const token = this.authService.getToken();\n    return new HttpHeaders({\n      Authorization: `Bearer ${token}`\n    });\n  }\n  getCampaigns() {\n    return this.http.get(this.apiUrl, {\n      headers: this.getAuthHeaders()\n    });\n  }\n  getCampaignById(id) {\n    return this.http.get(`${this.apiUrl}/${id}`, {\n      headers: this.getAuthHeaders()\n    });\n  }\n  sendCampaign(campaign) {\n    return this.http.post(this.apiUrl, campaign, {\n      headers: this.getAuthHeaders()\n    });\n  }\n  scheduleCampaign(campaign) {\n    return this.http.post(this.apiUrl, campaign, {\n      headers: this.getAuthHeaders()\n    });\n  }\n  saveDraft(campaign) {\n    return this.http.post(this.apiUrl, {\n      ...campaign,\n      status: 'DRAFT'\n    }, {\n      headers: this.getAuthHeaders()\n    });\n  }\n  static {\n    this.ɵfac = function CampaignService_Factory(t) {\n      return new (t || CampaignService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: CampaignService,\n      factory: CampaignService.ɵfac,\n      providedIn: \"root\"\n    });\n  }\n}","map":{"version":3,"names":["HttpHeaders","CampaignService","constructor","http","authService","apiUrl","getAuthHeaders","token","getToken","Authorization","getCampaigns","get","headers","getCampaignById","id","sendCampaign","campaign","post","scheduleCampaign","saveDraft","status","i0","ɵɵinject","i1","HttpClient","i2","AuthService","factory","ɵfac","providedIn"],"sources":["C:\\Users\\foulm\\Downloads\\v12\\src\\app\\services\\campaign.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\"\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\"\nimport { Observable } from \"rxjs\"\nimport { AuthService } from \"./auth.service\"\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class CampaignService {\n  private apiUrl = \"http://localhost:8080/api/campaigns\"\n\n  constructor(private http: HttpClient, private authService: AuthService) {}\n\n  private getAuthHeaders(): HttpHeaders {\n    const token = this.authService.getToken();\n    return new HttpHeaders({\n      Authorization: `Bearer ${token}`,\n    });\n  }\n\n  getCampaigns(): Observable<any> {\n    return this.http.get<any>(this.apiUrl, { headers: this.getAuthHeaders() });\n  }\n\n  getCampaignById(id: string): Observable<any> {\n    return this.http.get<any>(`${this.apiUrl}/${id}`, { headers: this.getAuthHeaders() });\n  }\n\n  sendCampaign(campaign: any): Observable<any> {\n    return this.http.post<any>(this.apiUrl, campaign, { headers: this.getAuthHeaders() });\n  }\n\n  scheduleCampaign(campaign: any): Observable<any> {\n    return this.http.post<any>(this.apiUrl, campaign, { headers: this.getAuthHeaders() });\n  }\n\n  saveDraft(campaign: any): Observable<any> {\n    return this.http.post<any>(this.apiUrl, { ...campaign, status: 'DRAFT' }, { headers: this.getAuthHeaders() });\n  }\n}\n"],"mappings":"AACA,SAAqBA,WAAW,QAAQ,sBAAsB;;;;AAO9D,OAAM,MAAOC,eAAe;EAG1BC,YAAoBC,IAAgB,EAAUC,WAAwB;IAAlD,KAAAD,IAAI,GAAJA,IAAI;IAAsB,KAAAC,WAAW,GAAXA,WAAW;IAFjD,KAAAC,MAAM,GAAG,qCAAqC;EAEmB;EAEjEC,cAAcA,CAAA;IACpB,MAAMC,KAAK,GAAG,IAAI,CAACH,WAAW,CAACI,QAAQ,EAAE;IACzC,OAAO,IAAIR,WAAW,CAAC;MACrBS,aAAa,EAAE,UAAUF,KAAK;KAC/B,CAAC;EACJ;EAEAG,YAAYA,CAAA;IACV,OAAO,IAAI,CAACP,IAAI,CAACQ,GAAG,CAAM,IAAI,CAACN,MAAM,EAAE;MAAEO,OAAO,EAAE,IAAI,CAACN,cAAc;IAAE,CAAE,CAAC;EAC5E;EAEAO,eAAeA,CAACC,EAAU;IACxB,OAAO,IAAI,CAACX,IAAI,CAACQ,GAAG,CAAM,GAAG,IAAI,CAACN,MAAM,IAAIS,EAAE,EAAE,EAAE;MAAEF,OAAO,EAAE,IAAI,CAACN,cAAc;IAAE,CAAE,CAAC;EACvF;EAEAS,YAAYA,CAACC,QAAa;IACxB,OAAO,IAAI,CAACb,IAAI,CAACc,IAAI,CAAM,IAAI,CAACZ,MAAM,EAAEW,QAAQ,EAAE;MAAEJ,OAAO,EAAE,IAAI,CAACN,cAAc;IAAE,CAAE,CAAC;EACvF;EAEAY,gBAAgBA,CAACF,QAAa;IAC5B,OAAO,IAAI,CAACb,IAAI,CAACc,IAAI,CAAM,IAAI,CAACZ,MAAM,EAAEW,QAAQ,EAAE;MAAEJ,OAAO,EAAE,IAAI,CAACN,cAAc;IAAE,CAAE,CAAC;EACvF;EAEAa,SAASA,CAACH,QAAa;IACrB,OAAO,IAAI,CAACb,IAAI,CAACc,IAAI,CAAM,IAAI,CAACZ,MAAM,EAAE;MAAE,GAAGW,QAAQ;MAAEI,MAAM,EAAE;IAAO,CAAE,EAAE;MAAER,OAAO,EAAE,IAAI,CAACN,cAAc;IAAE,CAAE,CAAC;EAC/G;;;uBA9BWL,eAAe,EAAAoB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,WAAA;IAAA;EAAA;;;aAAfzB,eAAe;MAAA0B,OAAA,EAAf1B,eAAe,CAAA2B,IAAA;MAAAC,UAAA,EAFd;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}